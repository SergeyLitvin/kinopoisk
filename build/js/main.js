"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}console.log("some.js");var searchForm=document.getElementById("search-form"),movies=document.getElementById("movies"),urlConfig={baseUrl:"https://api.themoviedb.org",apiKey:"1b881d5b372353011a0eae96576a19ca",typeRequest:"search",typeSearch:"multi"};function buildingLink(e){e.preventDefault();var t=document.querySelector(".form-control").value;return"".concat(urlConfig.baseUrl,"/3/").concat(urlConfig.typeRequest,"/").concat(urlConfig.typeSearch,"?api_key=").concat(urlConfig.apiKey,"&language=ru-RU&query=").concat(t,"&include_adult=false")}function getServerData(e){return new Promise(function(t,n){var o=new XMLHttpRequest;o.open("GET",e,!0),o.onload=function(){200===o.status?t(o.response):n("Error")},o.send()})}function renderData(e){var t="";e.forEach(function(e){var n=e.name||e.title,o=e.release_date||"Неизвестен",r=null!=e.poster_path?"https://image.tmdb.org/t/p/w500/"+e.poster_path:"./img/no_poster.jpg";t+='\n        <article class="card-films">\n          <h1>'.concat(n,'</h1>\n          <img class="img-responsive" src="').concat(r,'">\n          <div class="descript">\n            <strong class="year">Год: ').concat(o,'</strong> \n            <strong class="rating">Рейтинг: ').concat(e.vote_average,"</strong>  \n          </div>\n        </article>\n      ")}),movies.innerHTML=t}searchForm.addEventListener("submit",function(){var e=buildingLink(event);if("string"==typeof e)getServerData(e).then(function(e){var t=JSON.parse(e).results;"object"===_typeof(t)&&(0===t.length?movies.innerHTML='\n          <div class="text-info">\n            По вашему запросу ничего не найдено!!! Попробуйте изменить поисковый запрос.\n          </div>':renderData(t))},function(e){return console.log(e)})});